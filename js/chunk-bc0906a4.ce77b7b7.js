(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc0906a4"],{"0fdc":function(t,e,n){},1276:function(t,e,n){"use strict";var s=n("d784"),i=n("44e7"),c=n("825a"),a=n("1d80"),r=n("4840"),l=n("8aa5"),u=n("50c4"),o=n("14c3"),d=n("9263"),p=n("d039"),v=[].push,b=Math.min,m=4294967295,f=!p((function(){return!RegExp(m,"y")}));s("split",2,(function(t,e,n){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var s=String(a(this)),c=void 0===n?m:n>>>0;if(0===c)return[];if(void 0===t)return[s];if(!i(t))return e.call(s,t,c);var r,l,u,o=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),b=0,f=new RegExp(t.source,p+"g");while(r=d.call(f,s)){if(l=f.lastIndex,l>b&&(o.push(s.slice(b,r.index)),r.length>1&&r.index<s.length&&v.apply(o,r.slice(1)),u=r[0].length,b=l,o.length>=c))break;f.lastIndex===r.index&&f.lastIndex++}return b===s.length?!u&&f.test("")||o.push(""):o.push(s.slice(b)),o.length>c?o.slice(0,c):o}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=a(this),c=void 0==e?void 0:e[t];return void 0!==c?c.call(e,i,n):s.call(String(i),e,n)},function(t,i){var a=n(s,t,this,i,s!==e);if(a.done)return a.value;var d=c(t),p=String(this),v=r(d,RegExp),h=d.unicode,g=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(f?"y":"g"),C=new v(f?d:"^(?:"+d.source+")",g),_=void 0===i?m:i>>>0;if(0===_)return[];if(0===p.length)return null===o(C,p)?[p]:[];var w=0,x=0,k=[];while(x<p.length){C.lastIndex=f?x:0;var y,N=o(C,f?p:p.slice(x));if(null===N||(y=b(u(C.lastIndex+(f?0:x)),p.length))===w)x=l(p,x,h);else{if(k.push(p.slice(w,x)),k.length===_)return k;for(var L=1;L<=N.length-1;L++)if(k.push(N[L]),k.length===_)return k;x=w=y}}return k.push(p.slice(w)),k}]}),!f)},"1e47":function(t,e,n){"use strict";var s=n("8387"),i=n.n(s);i.a},2482:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{blurMask:!0,show:t.show}})},i=[],c={name:"BlurMask",props:{show:Boolean}},a=c,r=(n("e5fc"),n("2877")),l=Object(r["a"])(a,s,i,!1,null,"35997c47",null);e["a"]=l.exports},"331f":function(t,e,n){"use strict";var s=n("0fdc"),i=n.n(s);i.a},"3abc":function(t,e,n){t.exports=n.p+"img/avatar_empty.e995d23e.svg"},"44e7":function(t,e,n){var s=n("861d"),i=n("c6b6"),c=n("b622"),a=c("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},"46e1":function(t,e,n){},"60b1":function(t,e,n){},"781f":function(t,e,n){t.exports=n.p+"img/cross.91481689.svg"},8387:function(t,e,n){},"898e":function(t,e,n){},b333:function(t,e,n){t.exports=n.p+"img/add.9f422139.png"},c369:function(t,e,n){},cc92:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[t.createNewClub?n("NewClub",{on:{cancel:function(e){t.createNewClub=!1}}}):t._e(),n("List",{attrs:{show:t.showList},on:{toggleList:function(e){t.showList=!t.showList}}}),n("BlurMask",{attrs:{show:t.createNewClub||t.showList}}),n("div",{staticClass:"block"},[n("div",{staticClass:"serachBarBlock"},[n("SearchBar",{on:{newClub:function(e){t.createNewClub=!0},toggleList:function(e){t.showList=!t.showList}}})],1),n("div",{staticClass:"space"}),n("div",{staticClass:"clubsBlock"},[n("div",{staticClass:"top"},[n("font-awesome-icon",{staticStyle:{color:"#aeacac"},attrs:{icon:t.clubLayout?"table":"list",size:"lg"},on:{click:function(e){t.clubLayout=!t.clubLayout}}})],1),t._l(t.joinedClubs,(function(e,s){return n("ClubPreview",{key:s,attrs:{club:e,list:t.clubLayout,disable:t.createNewClub||t.showList}})}))],2),n("p",{staticClass:"msg"},[t._v(" "+t._s("didn't join "+(0===t.joinedClubs.length?"any":"more")+" groups")+" ")]),n("div",{staticClass:"space"})])],1)},i=[],c=(n("96cf"),n("1da1")),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"bar"},[s("font-awesome-icon",{staticStyle:{color:"#9e9e9e"},attrs:{icon:"bars",size:"lg"},on:{click:function(e){return t.$emit("toggleList")}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clubName,expression:"clubName"}],attrs:{type:"text",placeholder:"尋找在CooMoney中的社群"},domProps:{value:t.clubName},on:{focus:function(e){t.isFocus=!0},blur:function(e){t.isFocus=!1},change:t.searchClub,input:function(e){e.target.composing||(t.clubName=e.target.value)}}}),s("img",{attrs:{src:n("3abc"),alt:""}})],1),s("div",{class:{block:!0,focus:t.isFocus}},[s("div",{staticClass:"result"},[t._v("...沒有符合條件的社群")]),s("div",{staticClass:"new",on:{click:function(e){return t.$emit("newClub")}}},[s("img",{staticClass:"add",attrs:{src:n("b333"),alt:""}}),t._m(0)])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cont"},[n("div",{staticClass:"title"},[t._v("在CooMoney中建立你的社群")]),n("div",{staticClass:"content"},[t._v("tap to create your group in 10 second")])])}],l={name:"",data:function(){return{isFocus:!1,clubName:""}},methods:{searchClub:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("searchClub",{clubName:t.clubName});case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})))()}}},u=l,o=(n("db3c"),n("2877")),d=Object(o["a"])(u,a,r,!1,null,"41531e6b",null),p=d.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{main:!0,list:t.list},style:{backgroundImage:"url("+t.club.clubImage+")"},on:{click:t.enter}},[n("div",{staticClass:"content"},[n("p",{staticClass:"title"},[t._v(t._s(t.club.clubName))]),n("div",{staticClass:"right"},[n("p",{staticClass:"date"},[t._v(t._s(t.club.createdAt.substring(0,10).replace("-","/").replace("-","/")))]),n("p",{staticClass:"member"},[t._v(t._s(t.club.clubMembers.length+"位成員"))])])])])},b=[],m={name:"ClubPreview",props:{club:Object,list:Boolean,disable:Boolean},methods:{enter:function(){this.disable||(this.$store.commit("setSelectedClub",this.club),this.$router.push("/Club"))}}},f=m,h=(n("331f"),Object(o["a"])(f,v,b,!1,null,"23c015be",null)),g=h.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main_c"},[s("img",{attrs:{src:n("781f")},on:{click:function(e){return t.$emit("cancel")}}}),s("div",{staticClass:"title"},[t._v("建立你的社群")]),s("div",{staticClass:"block"},[s("div",{staticClass:"pair"},[s("div",{staticClass:"topic"},[t._v("社群名稱")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clubName,expression:"clubName"}],attrs:{type:"text"},domProps:{value:t.clubName},on:{input:function(e){e.target.composing||(t.clubName=e.target.value)}}})]),s("div",{staticClass:"pair"},[s("div",{staticClass:"topic"},[t._v("社群成員")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clubMembers,expression:"clubMembers"}],attrs:{type:"text"},domProps:{value:t.clubMembers},on:{input:function(e){e.target.composing||(t.clubMembers=e.target.value)}}})]),s("div",{staticClass:"pair"},[s("div",{staticClass:"topic"},[t._v("封面照片")]),s("input",{attrs:{type:"file"},on:{change:t.uploadFile}})]),s("div",{staticClass:"pair"},[s("button",{on:{click:t.create}},[t._v("建立")])])])])},_=[],w=(n("ac1f"),n("1276"),{name:"NewClub",data:function(){return{clubName:"",clubImage:"",clubMembers:"",uploadedFile:""}},methods:{create:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,s,i,c,a,r,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.$emit("cancel"),n=[],s=t.clubMembers.split(" "),i=0;i<s.length;i++)n.push(s[i]);return n=JSON.stringify(n),c=new FormData,c.append("clubImage",t.uploadedFile),c.set("clubName",t.clubName),c.set("clubMembers",n),e.next=11,t.$store.dispatch("createClub",c);case 11:return a=e.sent,r=new FormData,r.append("clubImage",t.uploadedFile),e.next=16,t.$store.dispatch("clubImage",r);case 16:l=e.sent,console.log(a),console.log(l);case 19:case"end":return e.stop()}}),e)})))()},uploadFile:function(t){this.uploadedFile=t.target.files[0]}}}),x=w,k=(n("d2e1"),Object(o["a"])(x,C,_,!1,null,"28817377",null)),y=k.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hide,expression:"hide"}],class:{main_l:!0,show:t.show}},[n("div",{staticClass:"header"},[t._v(" CooMoney -- 團隊記帳工具 ")])])},L=[],$=n("e67d"),O=n.n($),M={name:"List",props:{show:Boolean},methods:{hide:function(){this.show&&this.$emit("toggleList")}},mounted:function(){this.popupItem=this.$el},directives:{ClickOutside:O.a}},j=M,E=(n("1e47"),Object(o["a"])(j,N,L,!1,null,"1c1ecb1d",null)),I=E.exports,B=n("2482"),F={name:"Home",components:{SearchBar:p,ClubPreview:g,NewClub:y,BlurMask:B["a"],List:I},props:{},data:function(){return{clubLayout:!1,createNewClub:!1,showList:!1,joinedClubs:[]}},beforeMount:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.$store.state),t.next=3,this.$store.dispatch("getClub");case 3:e=t.sent,this.joinedClubs=e.data.data;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},R=F,S=(n("fb20"),Object(o["a"])(R,s,i,!1,null,"fbdac97e",null));e["default"]=S.exports},d2e1:function(t,e,n){"use strict";var s=n("898e"),i=n.n(s);i.a},db3c:function(t,e,n){"use strict";var s=n("c369"),i=n.n(s);i.a},e5fc:function(t,e,n){"use strict";var s=n("60b1"),i=n.n(s);i.a},e67d:function(t,e){function n(t){return"function"===typeof t.value||(console.warn("[Vue-click-outside:] provided expression",t.expression,"is not a function."),!1)}function s(t,e){if(!t||!e)return!1;for(var n=0,s=e.length;n<s;n++)try{if(t.contains(e[n]))return!0;if(e[n].contains(t))return!1}catch(i){return!1}return!1}function i(t){return"undefined"!==typeof t.componentInstance&&t.componentInstance.$isServer}t.exports={bind:function(t,e,c){if(!n(e))return;function a(e){if(c.context){var n=e.path||e.composedPath&&e.composedPath();n&&n.length>0&&n.unshift(e.target),t.contains(e.target)||s(c.context.popupItem,n)||t.__vueClickOutside__.callback(e)}}t.__vueClickOutside__={handler:a,callback:e.value};const r="ontouchstart"in document.documentElement?"touchstart":"click";!i(c)&&document.addEventListener(r,a)},update:function(t,e){n(e)&&(t.__vueClickOutside__.callback=e.value)},unbind:function(t,e,n){const s="ontouchstart"in document.documentElement?"touchstart":"click";!i(n)&&t.__vueClickOutside__&&document.removeEventListener(s,t.__vueClickOutside__.handler),delete t.__vueClickOutside__}}},fb20:function(t,e,n){"use strict";var s=n("46e1"),i=n.n(s);i.a}}]);
//# sourceMappingURL=chunk-bc0906a4.ce77b7b7.js.map